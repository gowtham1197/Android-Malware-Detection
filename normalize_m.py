import csv

def load_csv(filename):
	lines=csv.reader(open(filename,"rb"))
	dataset=list(lines)
	for i in range(1,len(dataset)):
		for j in range(0,len(dataset[1])-1):
		    dataset[i][j]=float(dataset[i][j])
	return dataset


dataset=load_csv('fresh_m.csv')
#print len(dataset)
features=dataset[0]
del dataset[0]

for i in range(len(dataset)):
	del dataset[i][-1]

#print dataset
min1=[]
max1=[]
for i in range(len(dataset[0])):
	col=[row[i] for row in dataset]
	min1.append(min(col))
	max1.append(max(col))

#print min1
#print max1

with open('normalized_m.csv', 'w') as csvfile:
		csvwriter = csv.writer(csvfile)
		csvwriter.writerow(features)

dataset1=dataset
#print len(dataset1)
#print dataset1

for i in range(len(dataset1)):
	for j in range(len(dataset1[0])):
		dataset1[i][j]=(dataset1[i][j]-min1[j])/(max1[j]-min1[j])

with open('normalized_m.csv', 'a') as csvfile:
		csvwriter = csv.writer(csvfile)
		csvwriter.writerows(dataset1)
